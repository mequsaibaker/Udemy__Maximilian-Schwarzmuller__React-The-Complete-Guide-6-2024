<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz</title>

    <style>
      body {
        font-family: sf pro text, -apple-system, BlinkMacSystemFont, Roboto,
          segoe ui, Helvetica, Arial, sans-serif, apple color emoji,
          segoe ui emoji, segoe ui symbol;
        font-weight: 400;
        line-height: 22.4px;
        font-size: 16px;
      }
      p,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      ul,
      ol {
        font-size: 16px;
        font-weight: 400;
      }
      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        max-width: none;
      }
      code {
        background-color: #fff;
        border: 1px solid #d1d7dc;
        color: #b4690e;
        font-size: 90%;
        padding: 0.2rem 0.4rem;
      }
      .quiz-content {
        padding: 2.4rem;
        word-break: break-word;
        max-width: 86rem;
        margin: 0 auto;
      }
      .quiz-container {
        margin: 0 auto;
        max-width: 84rem;
        padding: 0;
      }
      .question {
        margin-bottom: 5rem;
      }
      .question span {
        font-size: 24px;
        font-weight: 700;
      }
      .question-prompt {
        margin-top: 0.8rem;
        font-weight: 700;
      }
      .question-answer {
        margin-top: 1.6rem;
        padding-left: 0;
        box-sizing: border-box;
      }
      .question-answer label {
        max-width: 80rem;
        position: relative;
        cursor: pointer;
        display: flex;
        min-width: 18rem;
        border: solid #1c1d1f 2px;
      }
      .question-answer div {
        display: flex;
        align-items: center;
        padding: 0.5rem;
        width: 100%;
      }
      .question-answer div:hover {
        background-color: #f5f5f5;
      }
      .question-answer input {
        display: none;
      }
      .question-answer span {
        width: 1rem;
        height: 1rem;
        margin-right: 1.6rem;
        top: 0;
        border-radius: 50%;
        display: inline-block;
        flex-shrink: 0;
        border: 0.2rem solid #1c1d1f;
        position: relative;
      }
      .selected {
        background: #1c1d1f;
        box-shadow: 0 0 0 0.4rem #fff inset;
      }
      .score {
              position: fixed;
            }
    </style>
  </head>

  <body onload="main()">
    <div id="score" class="score">
      <span>Score: N/A of N/A</span>
    </div>
    <div id="quiz-container" class="quiz-content"></div>

    <script>
      const quizData = {"pass_percent": 70, "questions": [{"_class": "assessment", "id": 68658750, "assessment_type": "multiple-choice", "prompt": {"question": "<p>From the perspective of a developer:&nbsp;What's one advantage of building a user interface by combining components?</p>", "relatedLectureIds": "", "feedbacks": ["That's wrong. Whilst you will later learn about techniques that allow you to improve application performance, components on their own do NOT provide a performance benefit. The overall app is the same, no matter if you split it into components or not.", "That's correct! As a developer, it's typically easier to work on smaller, more manageable building blocks. In addition, if a certain building block must be used in different parts of the UI, you can simply reuse it (instead of copying &amp; pasting it) if built as a component.", "That's wrong. Components are a nice (and important!) feature but they do not unlock some kind of \"more powerful features\". You can use the same React and web dev features, no matter if you're using components or not.", "That's wrong. Because whilst you could argue that by using components, it's easier to build complex / advanced websites, components are not required to build such websites. They might make it easier but they're not a prerequisite."], "answers": ["<p>Better performance</p>", "<p>Small, reusable building blocks</p>", "<p>More powerful features</p>", "<p>Can build advanced websites</p>"]}, "correct_response": ["b"], "section": "", "question_plain": "From the perspective of a developer:&nbsp;What's one advantage of building a user interface by combining components?", "related_lectures": []}, {"_class": "assessment", "id": 68658806, "assessment_type": "multiple-choice", "prompt": {"question": "<p>When working with React: How is a new component defined?</p>", "relatedLectureIds": "", "feedbacks": ["That's wrong. That's how you would USE a custom component - but it's now how you DEFINE it.", "That's wrong. Custom components do indeed typically use JSX code and they are also typically used inside of JSX code but they're not DEFINED just by using JSX code.", "That's correct! A component, in React, is simply a function that returns renderable content - typically JSX code. After being defined, a custom component can be used like a built-in HTML element inside of other components' JSX code.", "That's wrong. There is no such function in the React library."], "answers": ["<p>By adding a custom element like &lt;Header /&gt; to your HTML&nbsp;code</p>", "<p>By using JSX in your code files</p>", "<p>By creating a function that returns JSX&nbsp;code</p>", "<p>By using React's createComponent() function</p>"]}, "correct_response": ["c"], "section": "", "question_plain": "When working with React: How is a new component defined?", "related_lectures": []}, {"_class": "assessment", "id": 68658938, "assessment_type": "multiple-choice", "prompt": {"question": "<p>What's the purpose of JSX?</p>", "relatedLectureIds": "", "feedbacks": ["That's wrong. Whilst you will typically use your components in JSX code, JSX is actually not a prerequisite. It's also not required to create custom components - instead that's done by creating a JavaScript function.", "That's wrong. JSX is used a lot in React but you could use React without JSX.", "That's wrong. JSX is used a lot in React but you could use React without JSX.", "That's correct. The idea behind JSX is that you have an easier time defining the target HTML code that should be generated by your components."], "answers": ["<p>It allows you to create custom components and elements</p>", "<p>It allows you to work with React and components</p>", "<p>It's required by React</p>", "<p>It allows you to define the target HTML&nbsp;code inside of your components</p>"]}, "correct_response": ["d"], "section": "", "question_plain": "What's the purpose of JSX?", "related_lectures": []}, {"_class": "assessment", "id": 68658974, "assessment_type": "multiple-choice", "prompt": {"question": "<p>Which statement about JSX is TRUE?</p>", "relatedLectureIds": "", "feedbacks": ["That's correct. JSX allows you to define the target UI / HTML code right inside your JavaScript code - and therefore right inside your components.", "That's wrong. You can also output built-in components.", "That's wrong. JSX code is not a native JavaScript feature and therefore won't work in browsers.", "That's wrong. The core idea behind JSX is to use HTML-like code in JavaScript files. HTML is HTML."], "answers": ["<p>JSX code is used to define the target UI /&nbsp;HTML&nbsp;code</p>", "<p>JSX&nbsp;code can only be used to output custom components</p>", "<p>JSX code would run in the browser</p>", "<p>JSX&nbsp;code must be stored in <code>.html</code> files</p>"]}, "correct_response": ["a"], "section": "", "question_plain": "Which statement about JSX is TRUE?", "related_lectures": []}, {"_class": "assessment", "id": 68659000, "assessment_type": "multiple-choice", "prompt": {"question": "<p>What does React do with the components you use in the JSX&nbsp;code?</p>", "relatedLectureIds": "", "feedbacks": ["That's wrong. React does not generate any HTML file.", "That's correct. Your JSX code leads to a tree-like code structure that \"tells\" React how the different components are related and how the UI should look like. It then executes appropriate commands to manipulate the real DOM to reflect that target structure / code.", "That's wrong. React does not derive or generate any HTML file", "That's wrong. React does not derive or generate any HTML file"], "answers": ["<p>It generates a HTML&nbsp;file that's then served by the browser</p>", "<p>It derives a component tree that's then used to perform commands that update the website DOM</p>", "<p>It derives a HTML&nbsp;file that's then used to perform commands that update the website DOM</p>", "<p>It generates a component tree that's then translated to an HTML&nbsp;file</p>"]}, "correct_response": ["b"], "section": "", "question_plain": "What does React do with the components you use in the JSX&nbsp;code?", "related_lectures": []}, {"_class": "assessment", "id": 68659104, "assessment_type": "multiple-choice", "prompt": {"question": "<p>How do you typically use custom components?</p>", "relatedLectureIds": "", "feedbacks": ["That's correct!", "That's wrong. You never call component functions directly. Instead, React will do that for you.", "That's wrong. Whilst you will indeed use ReactDOM's render() method to render the root component of your app, you'll not use that method to output all your custom components.", "That's wrong. You never use your components like HTML code in any HTML file. They wouldn't work there."], "answers": ["<p>You use custom components like HTML&nbsp;elements inside of JSX code</p>", "<p>You call the custom component functions inside of other component functions</p>", "<p>You pass the custom component functions as identifiers to ReactDOM's <code>render()</code> method</p>", "<p>You use custom components in the <code>index.html</code> or any other HTML&nbsp;file</p>"]}, "correct_response": ["a"], "section": "", "question_plain": "How do you typically use custom components?", "related_lectures": []}, {"_class": "assessment", "id": 68706502, "assessment_type": "multiple-choice", "prompt": {"question": "<p>Which statement about custom components is FALSE?</p>", "relatedLectureIds": "", "feedbacks": ["That's the wrong choice because this statement is right. Custom components are created by simply defining a JavaScript function", "That's the wrong choice because this statement is right. To use custom components in JSX code, their name must start with an uppercase character. That's how React tells them apart from built-in components / elements.", "That's the wrong choice because this statement is right. Custom components do indeed need to return renderable content.", "That's the right choice because this statement is WRONG. You can define custom components wherever you want."], "answers": ["<p>Custom components can be created as JavaScript functions</p>", "<p>To use custom components in JSX, they must start with an uppercase character</p>", "<p>Custom components must return renderable content (typically JSX)</p>", "<p>Custom components must be defined next to the components that want to use them</p>"]}, "correct_response": ["d"], "section": "", "question_plain": "Which statement about custom components is FALSE?", "related_lectures": []}]};
      var correct = 0;
      var total = 0;
      const questionData = quizData.questions
      const passPercent = quizData.pass_percent

      function main() {
        total = questionData.length;

        var questions = [];
        for (var i = 0; i < questionData.length; i++) {
          var question = questionData[i];
          var questionText = question.prompt.question;
          var answers = question.prompt.answers;
          var correctAnswer = question.correct_response[0];
          var correctAnswerText = answers[correctAnswer.charCodeAt(0) - 97];
          var questionObj = {
            question: questionText,
            correctAnswer: correctAnswerText,
            answers: answers,
            id: question.id,
          };
          questions.push(questionObj);
        }

        updateScore();

        // display the questions
        var questionsContainer = document.getElementById("quiz-container");
        for (var i = 0; i < questions.length; i++) {
          var question = questions[i];
          var questionElement = document.createElement("form");
          questionElement.className = "question";
          questionElement.innerHTML =
            "<span>Question " +
            (i + 1) +
            ":</span>" +
            '<div class="question-prompt">' +
            question.question +
            "</div>";
          questionElement.id = question.id;
          questionElement.classList.add("quiz-container");
          var answersElement = document.createElement("ul");
          answersElement.className = "answers";
          for (var j = 0; j < question.answers.length; j++) {
            var answer = question.answers[j];
            var answerElement = document.createElement("li");
            answerElement.className = "answer";
            answerElement.innerHTML =
              '<label for="input-' +
              question.id +
              "-" +
              j +
              '"><div onclick="select(' +
              question.id +
              ", " +
              j +
              ')"><span></span><input id="input-' +
              question.id +
              "-" +
              j +
              '" type="radio" name="question' +
              i +
              '" value="' +
              j +
              '">' +
              answer +
              "</input></div></label>";
            answerElement.classList.add("question-answer");
            answersElement.appendChild(answerElement);
          }

          questionElement.appendChild(answersElement);

          // add a submit button
          var submitButton = document.createElement("button");
          submitButton.className = "submit";
          submitButton.innerHTML = "Submit";
          submitButton.classList.add("submit-button");

          submitButton.addEventListener("click", function (e) {
            e.preventDefault();
            var questionElement = e.target.parentElement;
            var questionId = questionElement.id;
            var question = questions.filter(function (q) {
              return q.id == questionId;
            })[0];

            // set the border color of all answers to black
            var answers = questionElement.getElementsByClassName("answer");
            for (var i = 0; i < answers.length; i++) {
              console.log(answers[i]);
              answers[i].children[0].style.borderColor = "#1c1d1f";
            }

            var answer = questionElement.querySelector(
              'input[type="radio"]:checked'
            );
            if (answer) {
              var answerIndex = answer.value;
              var answerText = question.answers[answerIndex];
              if (answerText == question.correctAnswer) {
                answer.parentElement.parentElement.style.borderColor =
                  "limegreen";
                // alert("Correct!");
                correct++;
                updateScore();
              } else {
                answer.parentElement.parentElement.style.borderColor = "red";
                // alert("Incorrect!");
              }
            } else {
              alert("Please select an answer.");
            }
          });

          // add button
          questionElement.appendChild(submitButton);

          questionsContainer.appendChild(questionElement);
        }
      }

      function select(question, answer) {
        var questionElement = document.getElementById(question);
        var answers = questionElement.getElementsByClassName("answer");
        for (var i = 0; i < answers.length; i++) {
          var span = answers[i].children[0].children[0].children[0];
          var input = answers[i].children[0].children[0].children[1];
          span.classList.remove("selected");
          input.checked = false;
        }
        var span = answers[answer].children[0].children[0].children[0];
        var input = answers[answer].children[0].children[0].children[1];
        span.classList.add("selected");
        input.checked = true;
      }

      function updateScore() {
        var scoreElem = document.getElementById("score");
        const score = (correct / total) * 100;
        scoreElem.innerHTML = "Score: " + score + "/" + passPercent + "%";
      }
    </script>
  </body>
</html>
